<!doctype html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<style>
    .pagenation{
        height: 50px;
        background: skyblue;
        display: flex;
        align-items: center;
    }
</style>
<body>
    <div class="pagenation">

    </div>
</body>
<script type="text/javascript">
function Page(classname,options={}){  // classname 最大盒子类名; language 代表first prev等
    this.box = document.querySelector(classname);
    // this.language = language;

    this.default = {    //自定义默认参数
        language:{
            first:"首页",
            prev:"下一页",
            list:null,
            next:"上一页",
            last:"尾页"
        },
        pageIn:{
            total:201,
            perpage:10, 
        }
    }

    this.currentPage = 1;   //当前页
    this.list = null;

    for(var attr in options.language){     //没有传值用默认值，传值用所传的值，由于对象键相同会覆盖，list会保持不变
        this.default.language[attr] = options.language[attr];
    }
    for(var attr in options.pageIn){     //没有传值用默认值，传值用所传的值
        this.default.pageIn[attr] = options.pageIn[attr];
    }
    this.allPage = Math.ceil(this.default.pageIn.total/this.default.pageIn.perpage)     //获取总页数
    // console.log(this.allPage);
    //创建内容
    // console.log(this);
    for(var attr in this.default.language){  // 在大盒子里创建 首页、下一页等小盒子；
        var div = document.createElement("div");
        div.className = attr;
        div.innerText = this.default.language[attr]; 
        this.box.appendChild(div); 
        if(attr != 'list'){
        setStyle(div,{
            float:"left",
            margin:"0 5px",
            padding:"5px 10px" ,
            border:"1px solid #000",
            cursor:"pointer",
        });}else{
            this.list = div;
        }
    } 
    this.createPages();

    this.box.onclick = e=>{
        var e = e || window.event;
        var target = e.target || e.srcElement;
        if(target.className == "first"){
            this.currentPage = 1;
            this.list.innerText = "";
            this.createPages();
        }else if(target.className == "next"){
            this.currentPage++;
            if(this.currentPage>=this.allPage){
                this.currentPage=this.allPage;
            }
            this.list.innerText = "";
            this.createPages();
        }else if(target.className == "prev"){
            this.currentPage--;
            if(this.currentPage<=1){
                this.currentPage=1;
            }
            this.list.innerText = "";
            this.createPages();
        }else if(target.className == "last"){
            this.currentPage = this.allPage;
            this.list.innerText = "";
            this.createPages();
        }else if(target.nodeName == "P"){
            var num = target.innerText;
            this.currentPage = num-0;
            this.list.innerText = "";
            this.createPages();
        }else if(target.nodeName == "BUTTON"){
            this.currentPage = input.value-0;
            if(this.currentPage<=1){
                this.currentPage=1;
            }
            if(this.currentPage>=this.allPage){
                this.currentPage=this.allPage;
            }
            this.list.innerText = "";
            this.createPages();
            input.value = "";
        }

    }

    var input = document.createElement("input");
    input.setAttribute("type","number");
    this.box.appendChild(input);
    setStyle(input,{
        outline:"none",
        border:"none",
        padding:"8px",
        border:"1px solid #000",
        margin:"5px",
        width:"50px",
    })
    var btn = document.createElement("button");
    btn.innerText = "GO";
    this.box.appendChild(btn);
    setStyle(btn,{
        outline:"none",
        border:"none",
        float:"left",
        margin:"0 5px",
        padding:"5px 10px" ,
        border:"1px solid #000",
        cursor:"pointer",
    })

}

Page.prototype.createPages = function(){       //创建页码
    if(this.currentPage<3){
        for(var i = 1;i<=5;i++){
            var p = document.createElement("p");
            p.innerText = i;
            this.list.appendChild(p);
            setStyle(p,{
                float:"left",
                margin:"0 5px",
                padding:"5px 10px" ,
                border:"1px solid #000",
                cursor:"pointer",
            })
            if(this.currentPage ==i){
                p.style.background = "blue";
            }
        }
    }else if(this.currentPage > this.allPage-2){
        for(var i=this.allPage-4;i<=this.allPage;i++){
            var p = document.createElement("p");
            p.innerText = i;
            this.list.appendChild(p);
            setStyle(p,{
                float:"left",
                margin:"0 5px",
                padding:"5px 10px" ,
                border:"1px solid #000",
                cursor:"pointer",
            })
            if(this.currentPage ==i){
                p.style.background = "blue";
            }
        }
    }else{
        for(var i = this.currentPage-2;i<=this.currentPage+2;i++){
            var p = document.createElement("p");
            p.innerText = i;
            this.list.appendChild(p);
            setStyle(p,{
                float:"left",
                margin:"0 5px",
                padding:"5px 10px" ,
                border:"1px solid #000",
                cursor:"pointer",
            })
            if(this.currentPage ==i){
                p.style.background = "blue";
            }
            
        }
    }
}


var pa = new Page(".pagenation",{
    
    language:{
        first:"首页",
        prev:"next",
        next:"last",
        last:"尾页"
    },
    pageIn:{
        total:202,
        perpage:10,
    },
})
function setStyle(ele,styleObj){    //设置样式
    for(var attr in styleObj){
        ele.style[attr] = styleObj[attr];
    }
}













</script>
</html>
